<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Love Birthday Puzzle</title>
  <link href="https://fonts.googleapis.com/css2?family=Itim&family=Prompt:wght@400;600&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="puzzle.css">
</head>
<body>
  <div class="puzzle-container">
    <h1 class="puzzle-title">Love Birthday Puzzle</h1>
    <p class="puzzle-subtitle">‡∏°‡∏≤‡πÑ‡∏Ç‡∏£‡∏±‡∏Å‡∏Ç‡∏≠‡∏á‡πÄ‡∏£‡∏≤‡πÑ‡∏õ‡∏î‡πâ‡∏ß‡∏¢‡∏Å‡∏±‡∏ô‡πÉ‡∏ô‡∏ß‡∏±‡∏ô‡πÄ‡∏Å‡∏¥‡∏î‡∏ô‡∏∞ üåü</p>

    <div class="puzzle-area">
      <div class="puzzle-pieces">
        <div class="piece" draggable="true" data-match="‡∏ó‡∏µ‡πà‡∏£‡∏±‡∏Å">‡∏ó‡∏µ‡πà‡∏£‡∏±‡∏Å</div>
        <div class="piece" draggable="true" data-match="‡∏ô‡∏∞">‡∏ô‡∏∞</div>
        <div class="piece" draggable="true" data-match="‡∏ß‡∏±‡∏ô‡πÄ‡∏Å‡∏¥‡∏î">‡∏ß‡∏±‡∏ô‡πÄ‡∏Å‡∏¥‡∏î</div>
        <div class="piece" draggable="true" data-match="‡∏™‡∏∏‡∏Ç‡∏™‡∏±‡∏ô‡∏ï‡πå">‡∏™‡∏∏‡∏Ç‡∏™‡∏±‡∏ô‡∏ï‡πå</div>
      </div>
      <div class="drop-zones">
        <div class="drop-zone" data-match="‡∏™‡∏∏‡∏Ç‡∏™‡∏±‡∏ô‡∏ï‡πå"></div>
        <div class="drop-zone" data-match="‡∏ß‡∏±‡∏ô‡πÄ‡∏Å‡∏¥‡∏î"></div>
        <div class="drop-zone" data-match="‡∏ô‡∏∞"></div>
        <div class="drop-zone" data-match="‡∏ó‡∏µ‡πà‡∏£‡∏±‡∏Å"></div>
      </div>
    </div>

    <p id="result-message" class="hidden">‡∏™‡∏∏‡∏Ç‡∏™‡∏±‡∏ô‡∏ï‡πå‡∏ß‡∏±‡∏ô‡πÄ‡∏Å‡∏¥‡∏î‡∏ô‡∏∞‡∏Ñ‡∏£‡∏±‡∏ö‡∏≠‡πâ‡∏ß‡∏á ‡∏Ç‡∏≠‡πÉ‡∏´‡πâ‡∏°‡∏µ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏∏‡∏Ç‡πÑ‡∏õ‡∏ï‡∏•‡∏≠‡∏î‡πÄ‡∏¢‡∏¢‡∏¢</p>
    <button onclick="checkPuzzle()" class="check-btn">‚úî ‡∏ï‡∏£‡∏ß‡∏à‡∏Ñ‡∏≥‡∏ï‡∏≠‡∏ö</button>
  </div>

<script>
let pieces = document.querySelectorAll('.piece');
let zones = document.querySelectorAll('.drop-zone');
let draggedPiece = null;

// üéØ Desktop Drag & Drop
pieces.forEach(piece => {
  piece.addEventListener('dragstart', dragStart);
});
zones.forEach(zone => {
  zone.addEventListener('dragover', dragOver);
  zone.addEventListener('drop', drop);
});

function dragStart(e) {
  e.dataTransfer.setData('text/plain', e.target.dataset.match);
}

function dragOver(e) {
  e.preventDefault();
}

function drop(e) {
  e.preventDefault();
  let pieceData = e.dataTransfer.getData('text');
  if (e.target.dataset.match === pieceData && !e.target.hasChildNodes()) {
    let piece = document.querySelector(`[data-match="${pieceData}"]`);
    e.target.appendChild(piece);
    piece.style.cursor = 'default';
  }
}

// üì± Touch Events (Mobile)
pieces.forEach(piece => {
  piece.addEventListener('touchstart', touchStart);
  piece.addEventListener('touchmove', touchMove);
  piece.addEventListener('touchend', touchEnd);
});

function touchStart(e) {
  draggedPiece = e.target;
  draggedPiece.classList.add('dragging');
}

function touchMove(e) {
  if (!draggedPiece) return;
  let touch = e.touches[0];
  draggedPiece.style.position = 'absolute';
  draggedPiece.style.left = (touch.pageX - 40) + 'px';
  draggedPiece.style.top = (touch.pageY - 25) + 'px';
  draggedPiece.style.zIndex = 1000;
}

function touchEnd(e) {
  if (!draggedPiece) return;

  let touch = e.changedTouches[0];
  let dropTarget = document.elementFromPoint(touch.clientX, touch.clientY);

  if (dropTarget && dropTarget.classList.contains('drop-zone') && !dropTarget.hasChildNodes()) {
    if (dropTarget.dataset.match === draggedPiece.dataset.match) {
      dropTarget.appendChild(draggedPiece);
      draggedPiece.style.position = 'static';
      draggedPiece.style.zIndex = '';
    }
  }

  draggedPiece.classList.remove('dragging');
  draggedPiece = null;
}

// ‚úÖ ‡∏ï‡∏£‡∏ß‡∏à‡∏Ñ‡∏≥‡∏ï‡∏≠‡∏ö
function checkPuzzle() {
  let allCorrect = true;
  zones.forEach(zone => {
    if (!zone.hasChildNodes() || zone.firstChild.dataset.match !== zone.dataset.match) {
      allCorrect = false;
    }
  });
  let result = document.getElementById('result-message');
  if (allCorrect) {
    result.classList.remove('hidden');
    document.querySelector('.check-btn').style.display = 'none';
  } else {
    alert('‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á ‡∏•‡∏≠‡∏á‡πÉ‡∏´‡∏°‡πà‡∏ô‡∏∞ üíï');
  }
}
</script>
</body>
</html>
